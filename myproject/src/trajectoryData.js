/**
 * Created by Administrator on 2017-06-25.
 */

/*
var abrahamMove = [
    [5210153.84086816,3519025.8969092946],
    [5071432.181100398,3575107.582530952],
    [5050641.309406831,3714528.7221231135],
    [4941322.709286151,3864569.1476379232],
    [4869166.154584944,3959962.5589378234],
    [4776218.728190171,3990537.370251894],
    [4701616.188583839,4155641.3513478753],
    [4699170.203678719,4337867.226779732],
    [4613560.731999321,4446713.555057823],
    [4466801.637691783,4433260.638079632],
    [4370185.233939327,4385563.93242968],
    [4231987.086799729,4419807.721101439],
    [4108464.849090884,4359881.090925861],
    [4077890.037776817,4177655.215494003],
    [4057099.1660832493,4059024.9475954096],
    [3968048.2762067183,3933558.4725512755],
    [3930135.510177271,3875466.3310545413],
    [3925319.977395308,3791385.599940849],
    [3930899.8804601245,3774340.1426332523],
    [3925090.66631045,3757447.559382226],
    [3905217.038956304,3731764.717878407],
    [3876782.4644342186,3705470.380148306],
    [3842232.9276493164,3669392.1027977034],
    [3776497.083324061,3622918.3896003165],
    [3671123.74606327,3608927.150911012],
    [3542709.538544174,3615653.6094001075],
    [3504185.276288445,3613819.1207212633],
    [3620369.559281913,3588747.7754437258],
    [3883924.4328092,3601283.448082494],
    [3907205.809173018,3642599.5361399883],
    [3922493.214830053,3698857.188957878],
    [3935028.8874688214,3747318.264890676],
    [3934111.6431293995,3773612.6026207767],
    [3924520.092216584,3747688.246739376],
    [3912901.663917237,3718030.6797647276],
    [3906530.7637147354,3701468.5318591013]
];
*/

var TrajectoryData = function(){
    this.trajectoryArray = [
        {
            name : "아브라함의 이동",
            value: 0,
            extent: [],
            data:
            [
                [5210885.615684365,3512186.2264693333],     // 아브라함의 이동
                [5088078.87128389,3736585.8846845054],
                [4915025.439246243,3934710.6619996787],
                [4667980.963828558,4042333.997825207],
                [4587187.024931129,4448692.3494462725],
                [4420878.981674294,4390734.569300294],
                [4229350.447115014,4423565.310294834],
                [4128153.0809744583,4259030.336436439],
                [4044625.661733496,4134652.4580438137],
                [3998022.4782936214,4019756.818036398],
                [3926706.730903553,3791826.37700427],
                [3932552.216917588,3774900.1191779524],
                [3915859.696238111,3737853.8650255445],
                [3878442.0612795902,3684025.468511233],
                [3797418.811297304,3630213.800598468],
                [3649742.4726503408,3611868.9138100226],
                [3550068.587766471,3615232.143054572],
                [3469876.590466786,3579067.8740471457],
                [3563955.1734588975,3588870.0061092013],
                [3635347.357877252,3597278.0792205706],
                [3737415.903385136,3597125.205164],
                [3829140.3373273453,3609660.8778027673],
                [3885378.8808881645,3598061.5587604917],
                [3924798.26896427,3655689.0633109],
                [3937028.193489898,3717755.930278462],
                [3932671.282877641,3774844.712804804],
                [3926385.6334381676,3748758.365135364],
                [3911327.5388659877,3717036.9983970094],
                [3906565.432870186,3701653.7357792817]
            ]
        }
        ,
        {
            name : "이스라엘의 출애굽",
            value : 1,
            extent: [],
            data: [
                [3482667.657951628,3514915.6880291747],     // 출애굽
                [3579508.3139143,3523994.5446794597],
                [3603515.4640834033,3518767.9545116816],
                [3617943.1190731195,3505484.383338662],
                [3600130.077172664,3512242.1719399556],
                [3590800.109222771,3450966.5298649943],
                [3621100.2249664403,3422665.720142409],
                [3646035.610116765,3434461.08116137],
                [3678957.7742986297,3433319.846670347],
                [3696189.27252934,3414568.065169159],
                [3737922.2189171882,3383829.300467187],
                [3775485.303411733,3316644.470114777],
                [3782054.8284354745,3317042.867301766],
                [3801893.826808255,3326882.250234237],
                [3820134.5207205103,3358092.437575396],
                [3824874.418855063,3379842.0792827886],
                [3835321.792960953,3432892.4209177624],
                [3830365.3294080845,3487306.367143066],
                [3890010.9919194053,3447592.4702445506],
                [3897282.504520484,3443470.456863854],
                [3872954.617236507,3531253.3978579235],
                [3853337.6963906516,3583814.2246339833],
                [3901967.2840799987,3613784.080249268],
                [3932641.732313744,3590003.770808257],
                [3937539.1122598154,3565647.28289474],
                [3951284.1858464307,3589426.8945948654],
                [3964454.604173657,3605814.6539915456],
                [3975263.2777046105,3628659.7708202796],
                [3973323.9312975383,3735771.189177649],
                [3947321.4946172303,3744473.497759225]
            ]
        },
        {
           name : "바벨론으로 끌려감",
           value : 2,
            extent: [],
           data :
            [
                [3923471.156773658,3775085.2895391686],     // 바벨론으로 끌려감
                [3926987.260074776,3791289.9395356257],
                [3924082.6529999413,3818960.1437748615],
                [3916978.6015800512,3838352.4087719014],
                [3926842.6807427616,3891339.8734833477],
                [3924702.4439507765,3928946.8913996546],
                [3958028.9882831182,3979089.5819547325],
                [4018430.044037671,4046828.5924246637],
                [4066738.2459139023,4075416.04100332],
                [4091543.837145079,4178518.938844221],
                [4210479.85315682,4267797.387881308],
                [4371914.856895112,4256790.455808243],
                [4497883.079509081,4090463.4822597005],
                [4686223.917203756,4012191.96529568],
                [4884348.694518933,3911906.584185529],
                [5006647.939775215,3828743.097411257],
                [5051503.904991457,3702189.812550994]
        ]},
        {
            name : "예수님의 출생여정",
            value: 3,
            extent: [],
            data : [
                [3918455.1312112426,3725080.4105380476],
                [3922387.1703771767,3734200.9204026773],
                [3890665.7340224157,3707823.6009546337],
                [3870486.3585551293,3672662.5679434524],
                [3813617.209510958,3635972.794366566],
                [3737485.9293389204,3619462.396256967],
                [3648818.976528116,3601117.5094685247],
                [3551591.0765493717,3590722.0736217406],
                [3469879.8933125194,3579098.8680081232],
                [3628240.129290318,3587428.0261115986],
                [3753596.855678007,3601492.439316071],
                [3830033.8839631835,3628398.273272453],
                [3876507.597160571,3658361.588360242],
                [3906470.9122483595,3691382.3845794383],
                [3927873.280168209,3714007.7449518503],
                [3936434.2273361487,3766596.4204120515],
                [3933529.620261311,3813528.755779145],
                [3930217.7471451457,3856400.3740185956]
        ] }
    ];

    function calculateExtent( geometry ){

        var maxX = -90000000;
        var maxY = -90000000;
        var minX = 90000000;
        var minY = 90000000;
        for( idx in geometry ){
            var pos = geometry[idx];
            if( pos[0] > maxX )
                maxX = pos[0];
            if( pos[1] > maxY )
                maxY = pos[1];
            if( pos[0] < minX )
                minX = pos[0];
            if( pos[1] < minY )
                minY = pos[1];
        }

        return [ minX, minY, maxX, maxY ];
    }


    for( var arrIdx in this.trajectoryArray ){
        var extent = calculateExtent( this.trajectoryArray[arrIdx].data );
        this.trajectoryArray[arrIdx].extent = extent;
    }

    this.getTrajectoryByValue = function( value ){
        return this.trajectoryArray[ value ];
    };

    this.getCount = function(){
        return this.trajectoryArray.length;
    };

    this.getExtent = function( order ){
        /*
        var array = this.trajectoryArray[ order ].data;
        var maxX = -90000000;
        var maxY = -90000000;
        var minX = 90000000;
        var minY = 90000000;
        for( idx in array ){
            var pos = array[idx];
            if( pos[0] > maxX )
                maxX = pos[0];
            if( pos[1] > maxY )
                maxY = pos[1];
            if( pos[0] < minX )
                minX = pos[0];
            if( pos[1] < minY )
                minY = pos[1];
        }

        return [ minX, minY, maxX, maxY ]; */
        return   this.trajectoryArray[order].extent;
    };



};

